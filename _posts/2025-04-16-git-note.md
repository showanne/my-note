---
title: Git å•é¡Œå¤§å…¨ç­†è¨˜ï¼šå·¥ä½œå¸¸ç”¨æŒ‡ä»¤èˆ‡å¯¦å‹™æ“ä½œç¯„ä¾‹
date: 2025-04-16
tags:
  - Git
author: Anne
---

## é‚„åŸ / èª¤åˆª Commit çš„å¾©åŸ

### ğŸ§© å¦‚ä½•é‚„åŸè¢« reset æ‰çš„ commitï¼Ÿ

```bash
git reflog
git cherry-pick <commit-hash>
```

ğŸ” æ¡ˆä¾‹ï¼šèª¤ç”¨äº† `git reset HEAD~2`ï¼Œå°è‡´å…©ç­† commit è¢«åˆªï¼Œå¯ç”¨ `reflog` æŸ¥å›ï¼Œå†ç”¨ `cherry-pick` æ’ˆå›ä¾†ã€‚

---

## Commit æ“ä½œè£œæ•‘èˆ‡ä¿®æ”¹

### ğŸ“Œ æŸå€‹æª”æ¡ˆå¿˜è¨˜è·Ÿè‘— commitï¼ˆå·²ç¶“éäº†å¹¾å€‹ commitï¼‰

```bash
# ä¿®æ”¹å¾Œè£œä¸€ç­† commit
git add <filename>
git commit -m "è£œä¸Šæ¼æ‰çš„æª”æ¡ˆ"

# æˆ–ä½¿ç”¨ rebase ç·¨è¼¯æ­·å²
git rebase -i HEAD~3
# å°‡æƒ³åŠ å…¥æª”æ¡ˆçš„é‚£ç­†æ”¹ç‚º editï¼Œå† commit --amend
```

### âœï¸ ä¿®æ”¹èˆŠçš„æŸç­† commit è¨Šæ¯

```bash
git rebase -i HEAD~3
# å°‡è¦ä¿®æ”¹è¨Šæ¯çš„ commit æ”¹ç‚º `reword`
```

### ğŸ“ ä¿®æ”¹å€’æ•¸ç¬¬ 3 ç­† commit çš„å…§å®¹æˆ–è¨Šæ¯

```bash
git rebase -i HEAD~3
# æ”¹ pick ç‚º edit æˆ– reword
```

---

## åˆ‡æ›åˆ†æ”¯èˆ‡ Worktree

### ğŸ” åˆ‡æ›é ç«¯ / æœ¬åœ°åˆ†æ”¯

```bash
git checkout <branch-name>
git checkout -b <local-branch> origin/<remote-branch>
```

### ğŸŒ³ ä½¿ç”¨ worktree åŒæ™‚é–‹å¤šå€‹åˆ†æ”¯

```bash
# æ–°å¢ä¸€å€‹åˆ†æ”¯ worktree
git worktree add -b feature-x ./worktrees/feature-x origin/main
# æŸ¥çœ‹æ‰€æœ‰ worktree
git worktree list
```

---

## Pull / Merge å·®ç•°æ¯”è¼ƒèˆ‡åˆä½µæŠ€å·§

### ğŸ” æ¯”è¼ƒç›®å‰åˆ†æ”¯èˆ‡ä¸»åˆ†æ”¯å·®ç•°

```bash
# é¡¯ç¤ºèª°è¶…å‰å¹¾ç­† commit
git fetch origin
git rev-list --left-right --count origin/main...HEAD
```

### ğŸ“‚ åª merge æŸå€‹æª”æ¡ˆ

```bash
git checkout other-branch -- path/to/file
```

### âš ï¸ Merge conflict æ™‚ä¸€æ¬¡æ¥å— incoming

```bash
git checkout --theirs .
```

### âœ… åˆä½µåˆ†æ”¯

```bash
git checkout main
git merge feature-x
```

---

## Stash ç”¨æ³•

### ğŸ“¥ æŠŠæ‰€æœ‰è®Šæ›´å«ã€Œæ–°å¢æª”æ¡ˆã€ä¸€èµ· stash

```bash
git stash -u
```

### ğŸ“‹ æŸ¥çœ‹ stash çš„å…§å®¹

```bash
git stash list
git stash show -p stash@{0}
```

---

## Git è¨­å®šèˆ‡ä½¿ç”¨è€…è¨­å®š

### ğŸ› ï¸ æŸ¥çœ‹ / è¨­å®š user.name å’Œ email

```bash
git config user.name "å°å®‰"
git config user.email "you@example.com"
```

### ğŸŒ ä¸åŒè£ç½®å¯ç”¨ç›¸åŒ email + ä¸åŒåç¨±

åªè¦æ¯å°æ©Ÿå™¨ä¸Šè¨­å®šå„è‡ªçš„ `user.name` å³å¯ã€‚

### ğŸ“ è®“æŸå€‹æª”æ¡ˆåƒ…åœ¨æœ¬æ©Ÿ ignoreï¼ˆä¸åŠ å…¥ .gitignoreï¼‰

```bash
# æ‰‹å‹•åœ¨ .git/info/exclude åŠ å…¥æª”æ¡ˆè·¯å¾‘
your-local-config.env
```

---

## é€²éšè§€å¿µï¼šç©º Commitã€Commit Treeã€git commit-tree

### â­• å»ºç«‹ä¸€å€‹ç©ºçš„ commit

```bash
git commit --allow-empty -m "è§¸ç™¼ CI/CD ç”¨"
```

### ğŸŒ² æŸ¥çœ‹ Commit Treeï¼ˆåœ–å½¢åŒ–ï¼‰

```bash
git log --oneline --graph --decorate --all
```

### ğŸ”§ git commit-tree æ˜¯ä»€éº¼ï¼Ÿ

ç”¨ä¾†æ‰‹å‹•å»ºç«‹ä¸€æ£µ commit tree çµæ§‹ï¼ˆè¼ƒé€²éšç”¨é€”ï¼Œå¦‚è…³æœ¬ã€Git plumbingï¼‰ï¼Œå¹³å¸¸å¾ˆå°‘ç”¨ï¼Œéœ€é…åˆ `git write-tree`ã€‚
